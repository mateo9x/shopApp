<p-table [value]="items" dataKey="name" responsiveLayout="scroll" rowExpandMode="single" selectionMode="single" [(selection)]="itemParent">
  <ng-template pTemplate="body" let-parent let-expanded="expanded" >
      <tr [pSelectableRow]="parent" *ngIf="parent.itemCategoryParentId === null">
          <td (click)="showChilds(parent)" pButton pRipple [pRowToggler]="parent"  class="parent">
                <i class="fa fa-plus" style="margin-right:5px"></i>
         {{parent.name}}</td>
      </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-items>
      <tr >
                  <p-table [value]="childItems" dataKey="id" selectionMode="single"  [(selection)]="itemChild">
                      <ng-template pTemplate="body" let-child>
                          <tr #child [pSelectableRow]="child" >
                              <td (click)="openCategoryComponent(child)" class="child" >{{child.name}}</td>
                          </tr>
                      </ng-template>
                      <ng-template pTemplate="emptymessage">
                          <tr >
                              <td colspan="6" class="child">Brak podkategorii</td>
                          </tr>
                      </ng-template>
                  </p-table>
      </tr>
  </ng-template>
</p-table>
